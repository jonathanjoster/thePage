<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Page</title>
    <!-- preload audio -->
    <script src="audioLoad.js"></script>
    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kosugi&family=Montserrat:wght@700&display=swap" rel="stylesheet"> 
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" integrity="sha256-UzFD2WYH2U1dQpKDjjZK72VtPeWP50NoJjd26rnAdUI=" crossorigin="anonymous" />
    <link rel="stylesheet" href="styles.css">
    <!-- gsap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
</head>
<body>
    <div id="side-bar">
        <div class="side-bar-contents">
            <ul>
                <li><a href="#" class="here">music</a></li>
                <li><a href="portforio.html">portforio</a></li>
                <li><a href="passages.html">passages</a></li>
            </ul>
        </div>
    </div>
    <header>
        <h1 class="logo">h.d.<a href="https://www.youtube.com/watch?v=DxUHcXUJZgY">g</a></h1>
        <div class="media">
            <a href="https://twitter.com/Woodstock"><i class="fab fa-twitter"></i></a>
            <a href="https://instagram.com/jojoisart?igshid=cw43ev9bqgdc"><i class="fab fa-instagram"></i></a>
            <a href="http://abehiroshi.la.coocan.jp/"><i class="fab fa-facebook-f"></i></a>
            <a id="navbar_toggle"><i class="fas fa-bars"></i></a>
            <!-- import -->
            <div id="menu">
                <ul>
                    <li><a href="#">MUSIC</a></li>
                    <li><a href="portforio.html">PORIFORIO</a></li>
                    <li><a href="passages.html">PASSAGES</a></li>
                </ul>
            </div>
        </div>
    </header>
    <div class="wrapper">
        <div id="left">
            <div class="white-line" style="left: 40%;"></div>
            <div class="white-line" style="left: 80%;"></div>
            <div class="home">
                <div class="home-title">
                    <h1>THE</h1>
                    <h1>PAGE</h1>
                </div>
                <div class="home-text">
                    <p>An introduction of my <a href="https://soundcloud.com/miltata/kuskus">favorite</a> things.</p>
                    <p>Of nobody, by nobody, for nobody.</p>
                </div>
            </div>
            <div class="down">
                <i class="fas fa-angle-double-down"></i>
                scroll down!
            </div>
        </div>

        <div id="right">
            <div id="overlay"></div>
            <div class="white-line"></div>
        </div>
    </div>

    <script src="audioData.js"></script>
    <script>
        var colors = ["#c170aa", "#e7346e", "#aace38"];
        var r = Math.round(Math.random()*2); // [0,2]
        document.getElementById("overlay").style.backgroundColor = colors[r];
        document.getElementById("side-bar").style.backgroundColor = colors[r];
        document.getElementById("left").style.backgroundColor = colors[r];
        TweenMax.to('#overlay', 1.5, {
            delay: 1.7,
            left: '100%',
            ease: Expo.easeInOut
        })
        TweenMax.from('.home-title', 1, {
            delay: .1,
            opacity: 0,
            y: 20,
            ease: Expo.easeInOut
        })
        TweenMax.from('.home-text', 1, {
            delay: .4,
            opacity: 0,
            y: 20,
            ease: Expo.easeInOut
        })
        TweenMax.from('.logo', 1, {
            delay: 1.,
            opacity: 0,
            x: -20,
            ease: Expo.easeInOut
        })
        TweenMax.from('.fa-twitter', 1, {
            delay: 1.5,
            opacity: 0,
            y: -30,
            ease: Expo.easeOut
        })
        TweenMax.from('.fa-instagram', 1, {
            delay: 1.6,
            opacity: 0,
            y: -30,
            ease: Expo.easeOut
        })
        TweenMax.from('.fa-facebook-f', 1, {
            delay: 1.7,
            opacity: 0,
            y: -30,
            ease: Expo.easeOut
        })
        TweenMax.from('.fa-bars', 1, {
            delay: 1.8,
            opacity: 0,
            y: -30,
            ease: Expo.easeOut
        })
        TweenMax.from('.side-bar-contents', 1, {
            delay: 1.,
            opacity: 0,
            x: -20,
            ease: Expo.easeInOut
        })
        TweenMax.from('.down', 1, {
            delay: 1.,
            opacity: 0,
            y: 20,
            ease: Expo.easeInOut
        })

        for (var i=0; i<info.length; i++) { 
            var newImg = document.createElement("img");
            newImg.id = info[i][0];
            newImg.src = "https://i.pinimg.com/originals/f3/eb/be/f3ebbe87562ec5ba516f8ba7fc74fcb3.gif";
            newImg.setAttribute("onclick", "audioPlay(this)");
            newImg.setAttribute("data-id", i);
            var imgWrapper = document.createElement("div");
            imgWrapper.className = "img-wrapper";
            imgWrapper.style.backgroundImage = info[i][1];
            imgWrapper.appendChild(newImg);

            var cardTitle = document.createElement("div");
            cardTitle.className = "card-title";
            cardTitle.innerHTML = info[i][2];
            var cardCaption = document.createElement("div");
            cardCaption.className = "card-caption";
            cardCaption.innerHTML = info[i][3];  
            var cardText = document.createElement("div");
            cardText.className = "card-text";
            cardText.appendChild(cardTitle);
            cardText.appendChild(cardCaption);

            var card = document.createElement("div");
            card.className = "card";
            card.appendChild(imgWrapper);
            card.appendChild(cardText);
            var cardWrapper = document.createElement("div");
            cardWrapper.className = "card-wrapper";
            cardWrapper.appendChild(card);
            document.getElementById("right").appendChild(cardWrapper);
        }

        var flag;
        var available = true;
        function audioPlay(e) {
            if (available) {
                document.getElementById(e.id).classList.add("whiten");
                sources[e.dataset.id].play();
                available = false;
                flag = setInterval(function(){rmv(e)}, 10000);
            }
        }
        function rmv(e) {
            clearInterval(flag);
            available = true;
            document.getElementById(e.id).classList.remove("whiten");
        }

        var tgl = document.getElementById('navbar_toggle');
        tgl.addEventListener('click', function () {
            tgl.classList.toggle('open');
            document.getElementById('menu').classList.toggle('open');
        });
    </script>
</body>
</html>